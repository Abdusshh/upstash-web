/* Raster grid subsystem (rsms.me/raster) */
.grid {
  display: grid;
  --grid-tc: repeat(6, 1fr);
  grid-template-columns: var(--grid-tc);
  --grid-cs: 1; /* column start */
  --grid-ce: -1; /* column end */
  grid-gap: var(--gap);
}

/* .col -- cell or column */
.grid > .col {
  /*display: block;*/
  /*appearance: none;*/
  /*-webkit-appearance: none;*/
}

.grid[col='1'] {
  --grid-tc: repeat(1, 1fr);
}
.grid[col='2'] {
  --grid-tc: repeat(2, 1fr);
}
.grid[col='3'] {
  --grid-tc: repeat(3, 1fr);
}
.grid[col='4'] {
  --grid-tc: repeat(4, 1fr);
}
.grid[col='5'] {
  --grid-tc: repeat(5, 1fr);
}
.grid[col='6'] {
  --grid-tc: repeat(6, 1fr);
}

/* span=start... */
.grid > .col[span^='1'] {
  --grid-cs: 1;
}
.grid > .col[span^='2'] {
  --grid-cs: 2;
}
.grid > .col[span^='3'] {
  --grid-cs: 3;
}
.grid > .col[span^='4'] {
  --grid-cs: 4;
}
.grid > .col[span^='5'] {
  --grid-cs: 5;
}
.grid > .col[span^='6'] {
  --grid-cs: 6;
}

/* span=...+width, span=...-end */
.grid > .col[span$='+1'],
.grid > .col[span='1'] {
  --grid-ce: 1;
}
.grid > .col[span$='+2'],
.grid > .col[span$='-1'],
.grid > .col[span='2'] {
  --grid-ce: 2;
}
.grid > .col[span$='+3'],
.grid > .col[span$='-2'],
.grid > .col[span='3'] {
  --grid-ce: 3;
}
.grid > .col[span$='+4'],
.grid > .col[span$='-3'],
.grid > .col[span='4'] {
  --grid-ce: 4;
}
.grid > .col[span$='+5'],
.grid > .col[span$='-4'],
.grid > .col[span='5'] {
  --grid-ce: 5;
}
.grid > .col[span$='+6'],
.grid > .col[span$='-5'],
.grid > .col[span='6'] {
  --grid-ce: 6;
}

/* connect vars */
.grid > .col[span] {
  grid-column-end: span var(--grid-ce);
}
.grid > .col[span*='+'],
.grid > .col[span*='-'],
.grid > .col[span*='..'] {
  grid-column-start: var(--grid-cs);
}
.grid > .col[span*='-'],
.grid > .col[span*='..'] {
  grid-column-end: var(--grid-ce);
}
.grid > .col[span='row'] {
  grid-column: 1 / -1;
}

@media (--t) {
  .grid[col-t='1'] {
    --grid-tc: repeat(1, 1fr);
  }
  .grid[col-t='2'] {
    --grid-tc: repeat(2, 1fr);
  }
  .grid[col-t='3'] {
    --grid-tc: repeat(3, 1fr);
  }
  .grid[col-t='4'] {
    --grid-tc: repeat(4, 1fr);
  }
  .grid[col-t='5'] {
    --grid-tc: repeat(5, 1fr);
  }
  .grid[col-t='6'] {
    --grid-tc: repeat(6, 1fr);
  }

  /* span-t=start... */
  .grid > .col[span-t^='1'] {
    --grid-cs: 1;
  }
  .grid > .col[span-t^='2'] {
    --grid-cs: 2;
  }
  .grid > .col[span-t^='3'] {
    --grid-cs: 3;
  }
  .grid > .col[span-t^='4'] {
    --grid-cs: 4;
  }
  .grid > .col[span-t^='5'] {
    --grid-cs: 5;
  }
  .grid > .col[span-t^='6'] {
    --grid-cs: 6;
  }

  /* span-t=...+width, span-t=...-end */
  .grid > .col[span-t$='+1'],
  .grid > .col[span-t='1'] {
    --grid-ce: 1;
  }
  .grid > .col[span-t$='+2'],
  .grid > .col[span-t$='-1'],
  .grid > .col[span-t='2'] {
    --grid-ce: 2;
  }
  .grid > .col[span-t$='+3'],
  .grid > .col[span-t$='-2'],
  .grid > .col[span-t='3'] {
    --grid-ce: 3;
  }
  .grid > .col[span-t$='+4'],
  .grid > .col[span-t$='-3'],
  .grid > .col[span-t='4'] {
    --grid-ce: 4;
  }
  .grid > .col[span-t$='+5'],
  .grid > .col[span-t$='-4'],
  .grid > .col[span-t='5'] {
    --grid-ce: 5;
  }
  .grid > .col[span-t$='+6'],
  .grid > .col[span-t$='-5'],
  .grid > .col[span-t='6'] {
    --grid-ce: 6;
  }

  /* connect vars */
  .grid > .col[span-s] {
    grid-column-end: span var(--grid-ce);
  }
  .grid > .col[span-t*='+'],
  .grid > .col[span-t*='-'],
  .grid > .col[span-t*='..'] {
    grid-column-start: var(--grid-cs);
  }
  .grid > .col[span-t*='-'],
  .grid > .col[span-t*='..'] {
    grid-column-end: var(--grid-ce);
  }
  .grid > .col[span-t='row'] {
    grid-column: 1 / -1;
  }
}
